{% extends "base.html" %}
{% block title %}Edit Product{% endblock %}
{% block content %}

<div class="edit-form-container">
  <h3 class="page-title">Edit Product</h3>

  <form method="POST" class="edit-form">
    <div class="form-group">
      <label>Title</label>
      <input type="text" name="title" value="{{ product.title }}" required>
    </div>

    <div class="form-group">
      <label>Slug</label>
      <input type="text" name="slug" value="{{ product.slug }}" required>
    </div>

    <div class="form-group">
      <label>Price (â‚¹)</label>
      <input type="number" name="price" value="{{ product.price }}" required>
    </div>

    <div class="form-group">
      <label>Description</label>
      <textarea name="description" rows="4" required>{{ product.description }}</textarea>
    </div>

    <div class="form-group">
      <label>Category</label>
      <select name="category_id" required>
        {% for c in categories %}
        <option value="{{ c.id }}" {% if c.id == product.category_id %}selected{% endif %}>{{ c.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="form-group">
      <label>Image Path</label>
      <input type="text" name="image" value="{{ product.image }}" placeholder="e.g. products/ventro-classic-tee.png" required>
      {% if product.image %}
      <div class="image-preview" style="margin-top:10px;">
        <img src="{{ url_for('static', filename=product.image) }}" alt="{{ product.title }}" style="width:120px;border-radius:8px;">
      </div>
      {% endif %}
    </div>

    <div class="form-check">
      <input type="checkbox" name="is_available" id="is_available" {% if product.is_available %}checked{% endif %}>
      <label for="is_available">Product Available</label>
    </div>

    <button type="submit" class="button save-btn">Save Changes</button>
  </form>
</div>

{% endblock %}
